<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b1220" />
  <title>ëª½í”½</title>

  <!-- âœ… Open Graph (ê³µìœ ìš©) - ì‹¤ì œ ë°°í¬ ì‹œ url/image ìˆ˜ì • -->
  <meta property="og:title" content="ì˜¤ëŠ˜ì˜ í…ŒìŠ¤íŠ¸" />
  <meta property="og:description" content="ê°€ë³ê²Œ í•´ë³´ëŠ” í‘¸ë§í˜• ì‹¬ë¦¬/ë°ˆ í…ŒìŠ¤íŠ¸" />
  <meta property="og:type" content="website" />

  <style>
    :root{
      --bg:#0b1220;
      --card:#0f1a2e;
      --card2:#0d1730;
      --text:#e8eefc;
      --muted:#a9b6d3;
      --line:rgba(255,255,255,.08);
      --accent:#3b82f6;  /* íŒŒë‘ */
      --accent2:#22c55e; /* ì´ˆë¡ */
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Apple SD Gothic Neo", "Noto Sans KR", Segoe UI, Roboto, Arial;
      background:
        radial-gradient(900px 500px at 20% 0%, rgba(59,130,246,.18), transparent 55%),
        radial-gradient(800px 500px at 90% 10%, rgba(34,197,94,.14), transparent 55%),
        var(--bg);
      color:var(--text);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Layout */
    .app{
      max-width: 520px;
      margin:0 auto;
      min-height:100%;
      padding-bottom: 92px; /* bottom bar space */
    }

    /* Top Header */
    .topbar{
      position: sticky;
      top:0;
      z-index:50;
      backdrop-filter: blur(10px);
      background: rgba(11,18,32,.72);
      border-bottom: 1px solid var(--line);
    }
    .topbar-inner{
      padding: 14px 16px 10px;
    }
    .brand{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .logo{
      display:flex;
      align-items:center;
      gap:10px;
      min-width: 0;
    }
    .mark{
      width:40px;
      height:40px;
      border-radius: 14px;
      background:
        linear-gradient(135deg, rgba(59,130,246,.9), rgba(34,197,94,.8));
      box-shadow: 0 10px 24px rgba(59,130,246,.18);
      display:grid;
      place-items:center;
      font-weight:900;
      color:#081024;
      letter-spacing:-0.5px;
    }
    .brand-text{
      min-width:0;
    }
    .brand-title{
      margin:0;
      font-size: 16px;
      line-height: 1.15;
      font-weight: 800;
      letter-spacing: -0.3px;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }
    .brand-sub{
      margin:2px 0 0;
      font-size: 12px;
      color: var(--muted);
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }

    .chip{
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--text);
      padding: 8px 10px;
      border-radius: 999px;
      font-size: 12px;
      display:flex;
      align-items:center;
      gap:6px;
      cursor:pointer;
      user-select:none;
    }
    .chip:active{ transform: translateY(1px); }

    /* Search */
    .search{
      margin-top: 10px;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .searchbox{
      flex:1;
      position:relative;
    }
    .searchbox input{
      width:100%;
      padding: 12px 12px 12px 40px;
      border-radius: 14px;
      border:1px solid var(--line);
      outline:none;
      background: rgba(255,255,255,.04);
      color: var(--text);
      font-size: 14px;
    }
    .searchbox input::placeholder{ color: rgba(232,238,252,.55); }
    .icon{
      position:absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      width: 18px;
      height: 18px;
      opacity:.8;
    }

    .btn{
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: var(--text);
      padding: 12px 12px;
      border-radius: 14px;
      font-size: 14px;
      cursor:pointer;
    }
    .btn:active{ transform: translateY(1px); }

    /* Content */
    .content{ padding: 14px 16px 0; }

    .hero{
      margin-top: 8px;
      padding: 14px;
      border-radius: var(--radius);
      background:
        linear-gradient(135deg, rgba(59,130,246,.18), rgba(34,197,94,.10)),
        rgba(255,255,255,.04);
      border:1px solid var(--line);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .hero::after{
      content:"";
      position:absolute;
      inset:-40px -60px auto auto;
      width:180px;
      height:180px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, rgba(59,130,246,.30), transparent 65%);
      filter: blur(2px);
    }
    .hero-top{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
    }
    .hero h2{
      margin:0;
      font-size: 18px;
      letter-spacing:-0.3px;
    }
    .hero p{
      margin: 6px 0 0;
      font-size: 13px;
      color: var(--muted);
      line-height: 1.35;
    }
    .hero .cta{
      margin-top: 12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }
    .cta .primary{
      background: linear-gradient(135deg, rgba(59,130,246,.95), rgba(59,130,246,.72));
      border: none;
      color: #071227;
      font-weight: 800;
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
    }
    .cta .secondary{
      background: rgba(255,255,255,.06);
      border: 1px solid var(--line);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
    }

    .section{
      margin-top: 18px;
    }
    .section-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 10px;
    }
    .section-title{
      margin:0;
      font-size: 15px;
      letter-spacing:-0.2px;
    }
    .link{
      color: rgba(232,238,252,.85);
      font-size: 12px;
      text-decoration:none;
      opacity:.9;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.04);
    }
    .tags{
      display:flex;
      gap:8px;
      overflow:auto;
      padding-bottom: 2px;
      scrollbar-width: none;
    }
    .tags::-webkit-scrollbar{ display:none; }
    .tag{
      white-space:nowrap;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: rgba(232,238,252,.92);
      font-size: 12px;
      padding: 8px 10px;
      border-radius: 999px;
      cursor:pointer;
      user-select:none;
    }
    .tag.active{
      border-color: rgba(59,130,246,.65);
      background: rgba(59,130,246,.18);
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .card{
      border:1px solid var(--line);
      border-radius: var(--radius);
      background: rgba(255,255,255,.04);
      overflow:hidden;
      box-shadow: 0 10px 24px rgba(0,0,0,.22);
      cursor:pointer;
      transition: transform .12s ease;
    }
    .card:active{ transform: scale(.99); }

    .thumb{
      height: 92px;
      background:
        radial-gradient(120px 80px at 30% 25%, rgba(59,130,246,.35), transparent 55%),
        radial-gradient(120px 90px at 80% 30%, rgba(34,197,94,.25), transparent 55%),
        linear-gradient(135deg, rgba(15,26,46,.8), rgba(13,23,48,.95));
      position:relative;
    }
    .badge{
      position:absolute;
      left: 10px;
      top: 10px;
      font-size: 11px;
      padding: 6px 9px;
      border-radius: 999px;
      background: rgba(0,0,0,.30);
      border:1px solid rgba(255,255,255,.10);
      color: rgba(232,238,252,.95);
      backdrop-filter: blur(6px);
    }
    .card-body{
      padding: 10px 10px 12px;
    }
    .card-title{
      margin:0;
      font-size: 13px;
      font-weight: 800;
      line-height: 1.25;
      letter-spacing:-0.2px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow:hidden;
      min-height: 34px;
    }
    .card-meta{
      margin-top: 8px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      color: var(--muted);
      font-size: 11px;
    }
    .pill{
      padding: 5px 8px;
      border-radius: 999px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      color: rgba(232,238,252,.85);
      font-size: 11px;
      white-space: nowrap;
    }

    .list{
      display:flex;
      flex-direction:column;
      gap: 10px;
    }
    .row{
      display:flex;
      gap:12px;
      padding: 10px;
      border-radius: var(--radius);
      border:1px solid var(--line);
      background: rgba(255,255,255,.04);
      cursor:pointer;
    }
    .row .mini{
      width: 74px;
      height: 74px;
      border-radius: 16px;
      background:
        radial-gradient(70px 60px at 25% 25%, rgba(59,130,246,.35), transparent 55%),
        radial-gradient(70px 60px at 75% 30%, rgba(34,197,94,.25), transparent 55%),
        rgba(0,0,0,.20);
      border:1px solid rgba(255,255,255,.08);
      flex: 0 0 auto;
    }
    .row h4{
      margin:0;
      font-size: 13px;
      font-weight: 850;
      letter-spacing:-0.2px;
      line-height: 1.25;
    }
    .row p{
      margin: 6px 0 0;
      font-size: 12px;
      color: var(--muted);
      line-height: 1.3;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow:hidden;
    }
    .row .row-meta{
      margin-top: 8px;
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
    }

    .more{
      margin: 14px 0 10px;
      width:100%;
      padding: 12px 12px;
      border-radius: 16px;
      border:1px solid var(--line);
      background: rgba(255,255,255,.05);
      color: var(--text);
      font-weight: 750;
      cursor:pointer;
    }

    /* Bottom Nav */
    .bottom{
      position: fixed;
      left:50%;
      transform: translateX(-50%);
      bottom: 10px;
      width: min(520px, calc(100% - 18px));
      border-radius: 22px;
      border:1px solid var(--line);
      background: rgba(11,18,32,.75);
      backdrop-filter: blur(10px);
      box-shadow: var(--shadow);
      padding: 8px 10px;
      z-index: 60;
    }
    .tabs{
      display:flex;
      justify-content:space-between;
      gap:10px;
    }
    .tab{
      flex:1;
      border:none;
      background: transparent;
      color: rgba(232,238,252,.75);
      padding: 10px 8px;
      border-radius: 16px;
      font-size: 12px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      user-select:none;
    }
    .tab.active{
      background: rgba(59,130,246,.16);
      border:1px solid rgba(59,130,246,.25);
      color: rgba(232,238,252,.95);
    }
    .dot{
      width:7px;height:7px;border-radius:50%;
      background: rgba(232,238,252,.55);
    }
    .tab.active .dot{
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(59,130,246,.12);
    }

    /* Desktop polish */
    @media (min-width: 521px){
      .content{ padding-left: 0; padding-right: 0; }
      .topbar-inner{ padding-left: 0; padding-right: 0; }
      .app{ padding-left: 16px; padding-right: 16px; }
    }
  </style>
</head>
<body>
  <div class="app">
    <header class="topbar">
      <div class="topbar-inner">
        <div class="brand">
          <div class="logo" aria-label="ë¸Œëœë“œ">
            <div class="mark">P</div>
            <div class="brand-text">
              <p class="brand-title">ëª½í”½</p>
              <p class="brand-sub">ì˜¤ëŠ˜ì˜ ë°ˆ Â· ì„±ê²© Â· ì—°ì•  í…ŒìŠ¤íŠ¸</p>
            </div>
          </div>
          <div class="chip" id="btnTheme" title="í…Œë§ˆ í† ê¸€">
            <span style="opacity:.9">âœ¨</span> <span>í…Œë§ˆ</span>
          </div>
        </div>

        <div class="search">
          <div class="searchbox">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="2"/>
              <path d="M16.5 16.5 21 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <input id="q" type="search" placeholder="í…ŒìŠ¤íŠ¸ ê²€ìƒ‰ (ì˜ˆ: ì—°ì• , MBTI, ë°ˆ)" autocomplete="off" />
          </div>
          <button class="btn" id="btnRandom" type="button">ğŸ²</button>
        </div>
      </div>
    </header>

    <main class="content">
      <section class="hero" aria-label="ì˜¤ëŠ˜ì˜ ì¶”ì²œ">
        <div class="hero-top">
          <div>
            <h2>ì˜¤ëŠ˜ ë­ í•´ë³¼ê¹Œ?</h2>
            <p>ê°€ë³ê²Œ 1~2ë¶„. ê²°ê³¼ ê³µìœ í•˜ê³  ì¹œêµ¬ ë°˜ì‘ ë³´ê¸° ğŸ˜</p>
          </div>
          <span class="pill">NEW</span>
        </div>
        <div class="cta">
          <button class="primary" id="btnStartTop" type="button">ì¶”ì²œ í…ŒìŠ¤íŠ¸ ì‹œì‘</button>
          <button class="secondary" id="btnShareTop" type="button">ê³µìœ  ë§í¬</button>
        </div>
      </section>

      <section class="section" aria-label="íƒœê·¸">
        <div class="section-head">
          <h3 class="section-title">ì¹´í…Œê³ ë¦¬</h3>
          <a class="link" href="#" id="btnReset">ì „ì²´</a>
        </div>
        <div class="tags" id="tags"></div>
      </section>

      <section class="section" aria-label="ì¸ê¸° í…ŒìŠ¤íŠ¸">
        <div class="section-head">
          <h3 class="section-title">ğŸ”¥ ì¸ê¸° í…ŒìŠ¤íŠ¸</h3>
          <a class="link" href="#" id="btnPopularMore">ë”ë³´ê¸°</a>
        </div>
        <div class="grid" id="popularGrid"></div>
      </section>

      <section class="section" aria-label="ìµœì‹  í…ŒìŠ¤íŠ¸">
        <div class="section-head">
          <h3 class="section-title">ğŸ†• ìµœì‹  ì—…ë¡œë“œ</h3>
          <a class="link" href="#" id="btnLatestMore">ë”ë³´ê¸°</a>
        </div>
        <div class="list" id="latestList"></div>
        <button class="more" id="btnLoadMore" type="button">ë” ë¶ˆëŸ¬ì˜¤ê¸°</button>
      </section>

      <div style="height: 18px;"></div>
    </main>
  </div>

  <nav class="bottom" aria-label="í•˜ë‹¨ ë©”ë‰´">
    <div class="tabs">
      <button class="tab active" data-tab="home" type="button"><span class="dot"></span>í™ˆ</button>
      <button class="tab" data-tab="rank" type="button"><span class="dot"></span>ë­í‚¹</button>
      <button class="tab" data-tab="make" type="button"><span class="dot"></span>ë§Œë“¤ê¸°</button>
      <button class="tab" data-tab="me" type="button"><span class="dot"></span>ë‚´ì •ë³´</button>
    </div>
  </nav>

  <script>
    // âœ… ìƒ˜í”Œ ë°ì´í„°(ë‚˜ì¤‘ì— JSON/DBë¡œ êµì²´í•˜ê¸° ì‰¬ì›€)
    const TESTS = [
      { id:1, title:"ë‚´ ì—°ì• ê°€ ë§í•˜ëŠ” ì´ìœ  í•œ ì¤„ ìš”ì•½", desc:"ì„ íƒ 10ê°œë¡œ ì—°ì•  íŒ¨í„´ì´ ë”± ë‚˜ì˜´", tag:"ì—°ì• ", minutes:2, plays:128430, badge:"ğŸ”¥ HOT" },
      { id:2, title:"ë‚´ MBTIê°€ í™”ë‚¬ì„ ë•Œ í•˜ëŠ” ë§", desc:"ì¹œêµ¬ë“¤ì´ ì œì¼ ì›ƒê¸´ë‹¤ê³  í•¨", tag:"MBTI", minutes:1, plays:95420, badge:"ë°ˆ" },
      { id:3, title:"íšŒì‚¬ì—ì„œ ë‚˜ëŠ” ì–´ë–¤ ìºë¦­í„°?", desc:"íŒ€ì›ë“¤ì´ ë³´ëŠ” ë‚˜ì˜ í¬ì§€ì…˜", tag:"ì§ì¥", minutes:2, plays:65110, badge:"ì¶”ì²œ" },
      { id:4, title:"ë‚˜ì˜ ìˆ¨ê²¨ì§„ T/F ìˆ˜ì¹˜", desc:"ê°ì • vs ë…¼ë¦¬ ë°¸ëŸ°ìŠ¤ ì¸¡ì •", tag:"ì„±ê²©", minutes:2, plays:50122, badge:"NEW" },
      { id:5, title:"ì¹œêµ¬ê°€ ë‚˜ë¥¼ ì‹«ì–´í•  ë•Œ ë‚˜ì˜¤ëŠ” ì‚¬ì¸", desc:"ë‚˜ë§Œ ëª°ëë˜ ê·¸ ìˆœê°„", tag:"ê´€ê³„", minutes:2, plays:88912, badge:"ğŸ”¥" },
      { id:6, title:"ë‚´ê°€ ê·€ì—¬ìš´ ì´ìœ  í…ŒìŠ¤íŠ¸", desc:"ê·¼ê±°ë¥¼ ë°ì´í„°ë¡œ ì œì‹œí•¨(ì§„ì§œì„)", tag:"ë°ˆ", minutes:1, plays:122001, badge:"ã…‹ã…‹" },
      { id:7, title:"ë‚´ê°€ ëˆì„ ëª» ëª¨ìœ¼ëŠ” ì´ìœ ", desc:"ìŠµê´€ 1ê°œë§Œ ë°”ê¿”ë„ ë‹¬ë¼ì§", tag:"ëˆ", minutes:3, plays:33010, badge:"ì‹¤ì „" },
      { id:8, title:"ë‚˜ë‘ ì˜ ë§ëŠ” ì—¬í–‰ ìŠ¤íƒ€ì¼", desc:"í˜¼í–‰/íŒ¨í‚¤ì§€/ì¦‰í¥/ê³„íší˜•", tag:"ì—¬í–‰", minutes:2, plays:28801, badge:"NEW" },
      { id:9, title:"ë‚´ê°€ ë¨¼ì € ì—°ë½ ëª» í•˜ëŠ” ì´ìœ ", desc:"ìì¡´ì‹¬? ë¶ˆì•ˆ? ê·¸ëƒ¥ ë°”ì¨?", tag:"ì—°ì• ", minutes:2, plays:71440, badge:"ì¸ê¸°" },
      { id:10, title:"ë‚˜ì˜ â€˜ì°â€™ ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œë²•", desc:"ë‚˜í•œí…Œ ë§ëŠ” ë°©ì‹ë§Œ ê³¨ë¼ì¤Œ", tag:"ì„±ê²©", minutes:2, plays:21990, badge:"ì¶”ì²œ" },
    ];

    const TAGS = ["ì—°ì• ","MBTI","ì„±ê²©","ë°ˆ","ì§ì¥","ê´€ê³„","ëˆ","ì—¬í–‰"];

    const state = {
      tag: null,
      query: "",
      latestPage: 1,
      latestPageSize: 4,
      theme: "dark"
    };

    // ---- helpers ----
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));
    const formatPlays = (n) => {
      if (n >= 1000000) return (n/1000000).toFixed(1) + "M";
      if (n >= 1000) return (n/1000).toFixed(1) + "K";
      return String(n);
    };

    function filteredTests(){
      let items = [...TESTS];

      if (state.tag) items = items.filter(t => t.tag === state.tag);
      if (state.query.trim()){
        const q = state.query.trim().toLowerCase();
        items = items.filter(t =>
          t.title.toLowerCase().includes(q) ||
          t.desc.toLowerCase().includes(q) ||
          t.tag.toLowerCase().includes(q)
        );
      }
      return items;
    }

    function renderTags(){
      const root = $("#tags");
      root.innerHTML = "";
      TAGS.forEach(tag => {
        const el = document.createElement("button");
        el.className = "tag" + (state.tag === tag ? " active" : "");
        el.type = "button";
        el.textContent = "#" + tag;
        el.onclick = () => {
          state.tag = (state.tag === tag) ? null : tag;
          state.latestPage = 1;
          renderAll();
        };
        root.appendChild(el);
      });
    }

    function renderPopular(){
      const root = $("#popularGrid");
      root.innerHTML = "";
      const items = filteredTests()
        .sort((a,b) => b.plays - a.plays)
        .slice(0, 4);

      items.forEach(t => {
        const card = document.createElement("article");
        card.className = "card";
        card.onclick = () => goTest(t);

        card.innerHTML = `
          <div class="thumb">
            <div class="badge">${t.badge}</div>
          </div>
          <div class="card-body">
            <h4 class="card-title">${escapeHtml(t.title)}</h4>
            <div class="card-meta">
              <span>${t.tag}</span>
              <span class="pill">${t.minutes}ë¶„ Â· ${formatPlays(t.plays)}íšŒ</span>
            </div>
          </div>
        `;
        root.appendChild(card);
      });
    }

    function renderLatest(){
      const root = $("#latestList");
      root.innerHTML = "";

      const items = filteredTests()
        // ìµœì‹ ì€ ì—¬ê¸°ì„  id í° ê²Œ ìµœì‹ ì´ë¼ê³  ê°€ì •
        .sort((a,b) => b.id - a.id);

      const take = state.latestPage * state.latestPageSize;
      const pageItems = items.slice(0, take);

      pageItems.forEach(t => {
        const row = document.createElement("article");
        row.className = "row";
        row.onclick = () => goTest(t);

        row.innerHTML = `
          <div class="mini"></div>
          <div style="min-width:0; flex:1;">
            <h4>${escapeHtml(t.title)}</h4>
            <p>${escapeHtml(t.desc)}</p>
            <div class="row-meta">
              <span class="pill">${t.tag}</span>
              <span class="pill">${t.minutes}ë¶„</span>
              <span class="pill">${formatPlays(t.plays)}íšŒ</span>
            </div>
          </div>
        `;
        root.appendChild(row);
      });

      const hasMore = pageItems.length < items.length;
      $("#btnLoadMore").style.display = hasMore ? "block" : "none";
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // ---- navigation (ì§€ê¸ˆì€ ë°ëª¨: ì‹¤ì œë¡  /t/slug ë¼ìš°íŒ…ìœ¼ë¡œ ì—°ê²°í•˜ë©´ ë¨) ----
    function goTest(test){
      // âœ… ë‚˜ì¤‘ì— ì—¬ê¸°ë§Œ ë°”ê¾¸ë©´ ë¨:
      // location.href = `/t/${test.slug}`;
      alert(`í…ŒìŠ¤íŠ¸ ì´ë™: "${test.title}"\\n(ì—¬ê¸°ëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì§ˆë¬¸/ê²°ê³¼ í˜ì´ì§€ë¡œ ì—°ê²°í•˜ë©´ ë¼)`);
    }

    // ---- events ----
    $("#q").addEventListener("input", (e) => {
      state.query = e.target.value;
      state.latestPage = 1;
      renderAll();
    });

    $("#btnLoadMore").onclick = () => {
      state.latestPage += 1;
      renderLatest();
    };

    $("#btnReset").onclick = (e) => {
      e.preventDefault();
      state.tag = null;
      state.query = "";
      $("#q").value = "";
      state.latestPage = 1;
      renderAll();
    };

    $("#btnRandom").onclick = () => {
      const items = filteredTests();
      const pick = items[Math.floor(Math.random()*items.length)] || TESTS[0];
      goTest(pick);
    };

    $("#btnStartTop").onclick = () => {
      const items = filteredTests().sort((a,b) => b.plays - a.plays);
      goTest(items[0] || TESTS[0]);
    };

    $("#btnShareTop").onclick = async () => {
      const shareData = {
        title: "í‘¸ë§í˜• í…ŒìŠ¤íŠ¸",
        text: "ì˜¤ëŠ˜ì˜ ë°ˆ/ì„±ê²© í…ŒìŠ¤íŠ¸ í•˜ëŸ¬ ê°€ì!",
        url: location.href
      };
      try{
        if (navigator.share) await navigator.share(shareData);
        else {
          await navigator.clipboard.writeText(shareData.url);
          alert("ë§í¬ë¥¼ í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆì–´!");
        }
      } catch(e){
        // user cancelled - ignore
      }
    };

    // bottom tabs demo
    $$(".tab").forEach(btn => {
      btn.onclick = () => {
        $$(".tab").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const tab = btn.dataset.tab;
        if (tab !== "home") alert(`"${tab}" íƒ­ì€ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ í˜ì´ì§€ ë§Œë“¤ë©´ ë¼`);
      };
    });

    // Theme toggle (ê°„ë‹¨ ë°ëª¨)
    $("#btnTheme").onclick = () => {
      // ì§€ê¸ˆì€ ë‹¤í¬ ê³ ì • ë””ìì¸ì´ì§€ë§Œ, í† ê¸€ í›…ë§Œ ë§Œë“¤ì–´ë‘ 
      alert("í…Œë§ˆ í† ê¸€ì€ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ë¼ì´íŠ¸ í…Œë§ˆ ì¶”ê°€í•˜ë©´ ë¼!");
    };

    function renderAll(){
      renderTags();
      renderPopular();
      renderLatest();
    }

    renderAll();
  </script>
</body>
</html>
